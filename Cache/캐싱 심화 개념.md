# 캐싱 심화 주제

## 1. 캐시 일관성 관리

- **캐시 일관성 프로토콜**: 분산 시스템에서 캐시의 일관성을 유지하기 위한 다양한 프로토콜, 예를 들어 **MESI (Modified, Exclusive, Shared, Invalid)** 프로토콜과 **MOESI (Modified, Owner, Exclusive, Shared, Invalid)** 프로토콜을 논의합니다.
- **강한 일관성 vs. 최종 일관성**: 캐시의 일관성을 유지하는 두 가지 접근법에 대한 이해. **강한 일관성**은 모든 캐시가 항상 최신 데이터를 유지하도록 보장하는 반면, **최종 일관성**은 시간이 지나면 일관성을 달성하도록 허용합니다.

## 2. 캐시 무효화 및 갱신 전략의 고급 기법

- **Write-Through vs. Write-Behind 캐싱**: 데이터를 캐시에 쓰면서 원본 데이터 소스에도 쓰는 **Write-Through**와, 캐시에만 먼저 쓰고 나중에 원본에 반영하는 **Write-Behind** 정책의 장단점을 비교합니다.
- **Cache Stampede 방지 기법**: 캐시가 만료될 때 다수의 클라이언트가 동시에 데이터 소스에 접근하는 문제를 해결하기 위한 기법. 예를 들어 **Semaphore**를 사용하거나 **Early Expiration**을 통한 미리 갱신 기법 등이 있습니다.

## 3. 고급 캐시 알고리즘

- **Adaptive Replacement Cache (ARC)**: LRU와 LFU의 단점을 보완하여 캐시 효율을 높이는 알고리즘으로, 최근 사용된 데이터와 자주 사용된 데이터를 모두 효율적으로 관리합니다.
- **Clock Algorithm**: 운영체제의 페이지 교체 알고리즘에서 파생된 캐싱 알고리즘으로, LRU의 효율을 높이면서 메모리 사용을 최적화합니다.
- **TinyLFU**: 메모리 사용량을 최소화하면서도 높은 히트율을 유지하기 위한 최신 캐시 알고리즘입니다.

## 4. 분산 캐시와 데이터 샤딩

- **Consistent Hashing**: 분산 시스템에서 데이터를 효율적으로 분배하고, 노드 추가/제거 시 데이터 이동을 최소화하기 위한 해싱 기술입니다.
- **Replication and Quorum-Based Caching**: 데이터 복제와 쿼럼 기반 접근을 통해 분산 캐시 시스템에서 일관성과 가용성을 유지하는 방법입니다.

## 5. 캐시와 CAP 이론

- **CAP Theorem in Caching**: 분산 시스템에서 일관성(Consistency), 가용성(Availability), 파티션 허용성(Partition Tolerance) 중 두 가지를 선택할 수 있는 CAP 이론을 캐싱 시스템에 적용하는 방법입니다.

## 6. 캐시와 데이터베이스 통합

- **Hybrid Transactional/Analytical Processing (HTAP)**: 트랜잭션 처리와 분석 작업을 동시에 수행할 수 있는 캐시와 데이터베이스 통합 방식입니다.
- **In-Memory Database vs. Caching Layer**: 인메모리 데이터베이스를 캐싱 레이어로 사용하는 경우와 전통적인 캐시 시스템의 차이점과 각각의 활용 사례를 비교합니다.

## 7. 분산 캐시의 장애 복구와 재해 복구

- **Disaster Recovery in Distributed Caching**: 분산 캐시 시스템에서 장애 복구와 재해 복구를 위한 전략, 예를 들어 **Geo-Redundant Caching**과 같은 방법론을 소개합니다.
- **Cache Consistency during Failover**: 장애 발생 시 캐시 일관성을 유지하는 방법과 전략. 예를 들어 캐시 장애 조치와 복구 과정에서의 데이터 동기화 문제 해결 방안을 다룹니다.

## 8. 캐싱과 머신러닝 통합

- **Predictive Caching**: 머신러닝 모델을 사용하여 사용자 행동을 예측하고, 필요한 데이터를 사전에 캐싱하는 전략입니다.
- **Feature Store Caching**: 머신러닝에서 자주 사용되는 피처 데이터를 캐싱하여 모델 추론 속도를 높이는 기법입니다.

## 9. Serverless Architecture와 캐싱

- **Serverless Computing에서의 캐시 사용**: 서버리스 아키텍처에서 캐시를 효율적으로 사용하는 방법으로, 상태를 유지하지 않으면서도 높은 성능을 유지하는 전략입니다.
- **Edge Computing and Caching**: 엣지 컴퓨팅 환경에서 사용자와 가까운 위치에 데이터를 캐싱하여 지연 시간을 줄이는 방법입니다.

## 10. 캐시 보안

- **Secure Cache Management**: 캐시된 데이터의 보안을 강화하기 위한 전략으로, 데이터 암호화, 캐시 키 관리, 접근 제어 등을 포함합니다.
- **Side-Channel Attacks on Caches**: 캐시 시스템을 노린 사이드 채널 공격과 이를 방어하기 위한 방법을 다룹니다.

## 11. 캐시 분석 및 모니터링

- **Cache Hit/Miss Ratio Analysis**: 캐시의 성능을 분석하기 위해 히트/미스 비율을 모니터링하고 최적화하는 방법입니다.
- **Real-time Cache Analytics**: 실시간으로 캐시 성능을 모니터링하고, 자동화된 조치를 취하는 시스템 설계입니다.

## 12. 캐시 시스템의 확장성 및 최적화

- **Elastic Caching**: 캐시 용량을 동적으로 조정하여 트래픽 변화에 따라 확장하거나 축소하는 기술입니다.
- **Auto-Scaling Caches**: 자동으로 확장하는 캐시 시스템을 설계하여 트래픽 변화에 대응하는 방법입니다.

# 데이터 지역성과 캐싱

## 재사용성의 판단 기준: 데이터 지역성

재사용 가능성이 큰 데이터를 판단하는 방법 중 하나는 **데이터 지역성(Locality of Reference)**의 원리를 이용하는 것입니다. 데이터 접근이 시간적 또는 공간적으로 가깝게 일어나는 것을 의미하며, 크게 두 가지로 나뉩니다:

- **시간적 지역성(Temporal Locality)**: 최근에 접근한 데이터에 다시 접근할 가능성이 높은 경우를 말합니다.
- **공간적 지역성(Spatial Locality)**: 특정 데이터에 접근하면, 그 데이터와 인접한 위치에 있는 데이터도 접근할 가능성이 높은 경우를 말합니다.

## 캐시의 작동 원리와 데이터 지역성

CPU가 메모리에 데이터를 요청할 때, 메인 메모리에 접근하기 앞서 **캐시 메모리(Cache Memory)**에 접근하여 데이터 존재 여부를 확인합니다. 캐시 메모리가 해당 데이터를 가지고 있으면 **Cache Hit**가 발생하고, 없으면 **Cache Miss**가 발생하여 메인 메모리에서 데이터를 가져옵니다.

## 캐시 미스와 데이터 캐싱

캐시 미스가 발생하면 메인 메모리에서 데이터를 가져와 캐시에 저장하는 **캐싱**이 이루어집니다. 반대로, 캐시 히트 상태에서 데이터 쓰기 동작이 발생하면 다음 두 가지 정책이 사용됩니다:

### Write Through 정책

**Write Through** 정책은 데이터를 캐시에서 업데이트하면서 메인 메모리도 동시에 업데이트하는 방식입니다.

- **장점**: 캐시와 메인 메모리 간의 데이터 일관성을 유지할 수 있습니다.
- **단점**: 매번 메모리를 업데이트해야 하므로 시간이 더 걸립니다.

### Write Back 정책

**Write Back** 정책은 캐시에서만 데이터를 업데이트하다가, 해당 데이터가 캐시에서 빠질 때 메인 메모리를 업데이트하는 방식입니다.

- **장점**: 메모리 업데이트가 캐시 블록이 교체될 때만 이루어져 속도가 빠릅니다.
- **단점**: 캐시와 메인 메모리 간의 데이터 일관성 문제가 발생할 수 있습니다. 이를 해결하기 위해 캐시 블록마다 **Dirty Bit**를 추가하여 데이터가 변경된 여부를 표시합니다.

## 캐싱의 이점과 주의사항

### 캐싱의 이점

캐싱은 데이터나 계산된 결과 값을 저장해 전체적인 처리 속도를 향상시킬 수 있습니다. 캐싱이 유용한 경우는 다음과 같습니다:

- **데이터 접근 시간이 오래 걸리는 경우**
- **반복적인 계산 생략**
- **반복적 데이터 접근**

### 캐싱의 주의사항

캐싱을 사용할 때는 **복사본과 원본의 일관성 유지**에 주의해야 합니다. 일관성 문제를 해결하기 위해 적절한 캐시 무효화 및 갱신 전략을 사용하는 것이 중요합니다.
