# 인덱스 스킵 스캔

인덱스 스킵 스캔(Index Skip Scan)은 데이터베이스에서 인덱스를 이용해 특정 쿼리를 효율적으로 실행하기 위한 또 다른 최적화 기법입니다. 이 방법은 특정 유형의 쿼리에서 전체 인덱스를 스캔하지 않고도 필요한 데이터를 찾을 수 있도록 해줍니다. 인덱스 스킵 스캔은 주로 Oracle, MySQL, PostgreSQL과 같은 관계형 데이터베이스 관리 시스템(RDBMS)에서 사용됩니다.

### 인덱스 스킵 스캔의 동작 방식

인덱스 스킵 스캔은 주로 **다중 컬럼 인덱스**가 있을 때 사용됩니다. 일반적으로, 다중 컬럼 인덱스는 왼쪽에서 오른쪽으로 순차적으로 사용됩니다. 그러나 인덱스 스킵 스캔은 첫 번째(리딩) 컬럼의 값을 고정하지 않고 건너뛰면서, 두 번째(또는 그 이후의) 컬럼을 활용해 쿼리를 최적화하는 방식으로 동작합니다.

#### 예시로 이해하는 인덱스 스킵 스캔

다음과 같은 인덱스를 예로 들어보겠습니다:

`CREATE INDEX idx_employee ON employees(department_id, job_id);`

여기서 `department_id`와 `job_id`는 인덱스의 첫 번째와 두 번째 컬럼입니다. 이제 아래와 같은 쿼리를 생각해 보겠습니다:

`SELECT * FROM employees WHERE job_id = 'DEV';`

일반적으로는 `job_id`만을 사용하는 조건이기 때문에 이 인덱스를 사용할 수 없을 것처럼 보입니다. 하지만 인덱스 스킵 스캔을 사용하면, 데이터베이스 엔진은 `department_id`를 건너뛰고(즉, 모든 `department_id` 값을 고려하면서) `job_id`를 기준으로 스캔할 수 있습니다. 즉, 인덱스의 첫 번째 컬럼을 고정하지 않고, 두 번째 컬럼을 활용하여 데이터를 찾을 수 있는 것입니다.

### 인덱스 스킵 스캔의 이점

1. **효율적인 쿼리 실행**: 인덱스 스킵 스캔은 특정 컬럼이 쿼리 조건에 맞지 않더라도, 그 이후의 컬럼을 활용해 효율적으로 쿼리를 실행할 수 있습니다. 이는 전체 테이블 스캔을 피할 수 있는 장점이 있습니다.
2. **다중 컬럼 인덱스 활용**: 이 기법은 다중 컬럼 인덱스를 보다 유연하게 활용할 수 있도록 합니다. 이를 통해 개발자는 더 다양한 쿼리 시나리오에서 인덱스를 활용할 수 있습니다.

### 제한 사항

- **조건부 사용**: 인덱스 스킵 스캔은 모든 경우에 사용되는 것이 아니라, 특정 조건에서만 유효합니다. 특히 인덱스의 첫 번째 컬럼이 고정되지 않거나 필요하지 않은 경우에만 유효합니다.
- **인덱스 선택의 중요성**: 이 기법이 효율적으로 동작하기 위해서는 적절한 인덱스 설계가 중요합니다. 첫 번째 컬럼을 고정하지 않고 사용할 경우를 염두에 두고 인덱스를 설계하는 것이 좋습니다.

### 요약

인덱스 스킵 스캔은 다중 컬럼 인덱스를 효율적으로 활용하여, 특정 쿼리에서 전체 테이블이나 인덱스를 스캔하지 않고도 데이터를 빠르게 찾을 수 있도록 도와주는 최적화 기법입니다. 이를 통해 데이터베이스 성능을 향상시키고, 다양한 쿼리 시나리오에서 인덱스를 효과적으로 사용할 수 있습니다.
